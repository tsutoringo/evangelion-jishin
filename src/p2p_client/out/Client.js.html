
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Client.js | Project Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>


<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav class="sidebar">
    <header class="nav-header">
        <a href="index.html">
            <img class="nav-logo" src="images/logo.svg" src="image" onerror="this.onerror=null; this.src='images/logo.png'" alt="Project" />
            <h1>Project</h1>
        </a>
    </header>

    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="API.html">API</a><ul class="methods"><li data-type="method"><a href="API.html#request">request</a></li></ul></li><li><a href="Base.html">Base</a></li><li><a href="BaseIssue.html">BaseIssue</a></li><li><a href="Collection.html">Collection</a><ul class="methods"><li data-type="method"><a href="Collection.html#add">add</a></li><li data-type="method"><a href="Collection.html#every">every</a></li><li data-type="method"><a href="Collection.html#filter">filter</a></li><li data-type="method"><a href="Collection.html#find">find</a></li><li data-type="method"><a href="Collection.html#map">map</a></li><li data-type="method"><a href="Collection.html#random">random</a></li><li data-type="method"><a href="Collection.html#reduce">reduce</a></li><li data-type="method"><a href="Collection.html#remove">remove</a></li><li data-type="method"><a href="Collection.html#some">some</a></li><li data-type="method"><a href="Collection.html#update">update</a></li></ul></li><li><a href="JMAQuake.html">JMAQuake</a></li><li><a href="JMAQuakeEarthQuake.html">JMAQuakeEarthQuake</a></li><li><a href="JMAQuakeIssue.html">JMAQuakeIssue</a></li><li><a href="JMAQuakePoint.html">JMAQuakePoint</a></li><li><a href="JMAQuakePoints.html">JMAQuakePoints</a><ul class="methods"><li data-type="method"><a href="JMAQuakePoints.html#add">add</a></li><li data-type="method"><a href="JMAQuakePoints.html#separateArray">separateArray</a></li></ul></li><li><a href="JMATsunami.html">JMATsunami</a></li><li><a href="P2PClient.html">P2PClient</a><ul class="methods"><li data-type="method"><a href="P2PClient.html#getQuakeList">getQuakeList</a></li></ul></li><li><a href="Scale.html">Scale</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<div id="main">
    
    <h1 class="page-title">Client.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import API from './API';
import * as Endpoints from './API/Endpoints';
import JMAQuake from './structure/JMAQuake';
import Collection from './util/Collection';

/**
 * メインのP2Pクライアントを指します
 * @prop {API} API APIに接続する
 */
class P2PClient {
	constructor(option) {
		this.option = Object.assign({
			getQuakeList: 20,
		}, option)
		this.API = new API(this);
	}
	/**
	 * 地震情報を返却します。デフォルトは新しい順に最大10件です。 データは2015年1月10日から提供しています。
	 * @param {Object} [param] request parameter
	 * @param {Number} [param.limit] 返却件数 (1〜100、デフォルトは10)
	 * @param {Number} [param.offset] 読み飛ばす件数 (0以上、デフォルトは0)。例えば、 limit=100&amp;offset=200 とすると、201件目から100件を返却します。
	 * @param {Number} [param.order] 並び順。1は昇順（古い順）、-1は降順（新しい順）です。デフォルトは降順。
	 * @param {String} [param.since_date] 指定日かそれ以降 (yyyyMMdd形式)
	 * @param {String} [param.until_date] 指定日かそれ以前 (yyyyMMdd形式)
	 * @param {String} [param.quake_type] 地震情報の種類
	 * @param {Number} [param.min_magnitude] マグニチュード下限
	 * @param {Number} [param.max_magnitude] マグニチュード上限
	 * @param {Number} [param.min_scale] 最大震度の下限
	 * @param {Number} [param.max_scale] 最大震度の上限
	 * @param {Number} [param.prefectures[]] 各都道府県の最低震度。 "兵庫県,10" のように指定します。
	 * @returns {Promise&lt;Collection&lt;JMAQuake>>} JMAQuakeのコレクション
	 */
	async getQuakeList(param) {
		const collection = new Collection(JMAQuake);
		(await this.API.request(Endpoints.QUAKE_LIST, param)).data.forEach(data => collection.add(new JMAQuake(this, data)));
		return collection;
	}
}

export default P2PClient;</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.5</a> on Fri Sep 04 2020 09:40:02 GMT+0900 (日本標準時) using the Archiver theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
